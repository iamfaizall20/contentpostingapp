<div class="signup-container">
    <form #signupForm="ngForm" (ngSubmit)="onSubmit(signupForm)" class="signup-card" novalidate>

        <h2>Sign Up</h2>

        <!-- Username -->
        <div class="form-group">
            <label>Username</label>
            <input type="text" name="username" [(ngModel)]="username" required minlength="3" placeholder="Username"
                #usernameRef="ngModel" />
            <div class="error-text" [hidden]="!(usernameRef.invalid && usernameRef.touched)">
                Username is required (min 3 chars).
            </div>
        </div>

        <!-- Email -->
        <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" [(ngModel)]="email" required email placeholder="Email"
                #emailRef="ngModel" />
            <div class="error-text" [hidden]="!(emailRef.invalid && emailRef.touched)">
                Valid email is required.
            </div>
        </div>

        <!-- Password -->
        <div class="form-group password-group">
            <label>Password</label>
            <div class="password-wrapper">
                <input [type]="showPassword ? 'text' : 'password'" name="password" [(ngModel)]="password" required
                    minlength="6" placeholder="Password" #passwordRef="ngModel" />
                <span class="eye-icon" (click)="togglePasswordVisibility()" role="button" tabindex="0"
                    aria-label="Toggle Password Visibility">
                    <i class="fa" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
                </span>
            </div>
            <div class="error-text" [hidden]="!(passwordRef.invalid && passwordRef.touched)">
                Password is required (min 6 chars).
            </div>
        </div>

        <!-- Confirm Password -->
        <div class="form-group password-group">
            <label>Confirm Password</label>
            <div class="password-wrapper">
                <input [type]="showConfirmPassword ? 'text' : 'password'" name="confirmPassword"
                    [(ngModel)]="confirmPassword" required placeholder="Confirm Password"
                    #confirmPasswordRef="ngModel" />
                <span class="eye-icon" (click)="toggleConfirmPasswordVisibility()" role="button" tabindex="0"
                    aria-label="Toggle Confirm Password Visibility">
                    <i class="fa" [ngClass]="showConfirmPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
                </span>
            </div>
            <div class="error-text" [hidden]="!(confirmPasswordRef.invalid && confirmPasswordRef.touched)">
                Please confirm your password.
            </div>
        </div>

        <button type="submit" [disabled]="signupForm.invalid">
            Sign Up
        </button>

        <p class="login-text">
            Already have an account?
            <a routerLink="/">Login</a>
        </p>

    </form>
</div>